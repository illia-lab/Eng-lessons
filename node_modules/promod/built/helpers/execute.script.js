"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.toNativeEngineExecuteScriptArgs = void 0;
const sat_utils_1 = require("sat-utils");
async function toNativeEngineExecuteScriptArgs(args) {
    const executeScriptArgs = [];
    const argsArray = (0, sat_utils_1.toArray)(args);
    if (!argsArray.length)
        return;
    for (const item of argsArray) {
        const resolvedItem = (0, sat_utils_1.isPromise)(item) ? await item : item;
        if (Array.isArray(resolvedItem)) {
            const arrayItems = [];
            for (const itemArr of resolvedItem) {
                arrayItems.push(itemArr);
            }
            executeScriptArgs.push(arrayItems);
        }
        else if (resolvedItem && resolvedItem.getEngineElement) {
            executeScriptArgs.push(await resolvedItem.getEngineElement());
        }
        else if (resolvedItem && resolvedItem.getEngineElements) {
            executeScriptArgs.push(...(await resolvedItem.getEngineElements()));
        }
        else {
            executeScriptArgs.push(resolvedItem);
        }
    }
    if (executeScriptArgs.length === 1 && !(0, sat_utils_1.isArray)(args))
        return executeScriptArgs[0];
    return executeScriptArgs;
}
exports.toNativeEngineExecuteScriptArgs = toNativeEngineExecuteScriptArgs;
//# sourceMappingURL=execute.script.js.map